

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>7.3. Workflow Automation &#8212; Effective Python for Data Scientists</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=c5ced968eda925caa686" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=c5ced968eda925caa686" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=c5ced968eda925caa686" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=c5ced968eda925caa686" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=c5ced968eda925caa686" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=c5ced968eda925caa686" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=c5ced968eda925caa686"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "khuyentran1401/Efficient_Python_tricks_and_tools_for_data_scientists");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Chapter6/workflow_automation';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7.4. Code Review" href="code_review.html" />
    <link rel="prev" title="7.2. Alternative Approach" href="alternative_approach.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/data_simplified_icon.png" class="logo__image only-light" alt="Effective Python for Data Scientists - Home"/>
    <script>document.write(`<img src="../_static/data_simplified_icon.png" class="logo__image only-dark" alt="Effective Python for Data Scientists - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    What Should You Expect From This Book?
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../how_to_read.html">1. How to Read This Book</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter1/Chapter1.html">2. Python Built-in Methods</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/string.html">2.1. String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/number.html">2.2. Number</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Chapter1/list/list.html">2.3. List</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Chapter1/list/get_elements.html">2.3.1. Get Elements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Chapter1/list/unpack_iterables.html">2.3.2. Unpack Iterables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Chapter1/list/join_iterable.html">2.3.3. Join Iterables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Chapter1/list/apply_functions_to_elements.html">2.3.4. Apply Functions to Elements in a List</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/set.html">2.4. Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/dictionary.html">2.5. Dictionary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/function.html">2.6. Function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/class.html">2.7. Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/datetime.html">2.8. Datetime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/code_speed.html">2.9. Code Speed</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/good_practices.html">2.10. Good Python Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter1/python_new_features.html">2.11. New Features in Python</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter2/Chapter2.html">3. Python Utility Libraries</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/collections.html">3.1. Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/itertools.html">3.2. Itertools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/functools.html">3.3. Functools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/pydash.html">3.4. Pydash</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/sympy.html">3.5. SymPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/operator.html">3.6. Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/dataclasses.html">3.7. Data Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/typing.html">3.8. Typing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/pathlib.html">3.9. pathlib</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter2/pydantic.html">3.10. Pydantic</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter3/Chapter3.html">4. Pandas</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/change_values.html">4.1. Change Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/get_values.html">4.2. Get Certain Values From a DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/date_time.html">4.3. Work with Datetime</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/transform_dataframe.html">4.4. Transform a DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/create_dataframe.html">4.5. Create a DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/combine_dataframes.html">4.6. Combine Multiple DataFrames</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/filter.html">4.7. Filter Rows or Columns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/data_types.html">4.8. Manipulate a DataFrame Using Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/sort_dataframe.html">4.9. Sort Rows or Columns of a DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/string.html">4.10. Work with String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/style_dataframe.html">4.11. Style a DataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter3/testing.html">4.12. Test</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter4/Chapter4.html">5. NumPy</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter4/Numpy.html">5.1. NumPy</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter5/Chapter5.html">6. Data Science Tools</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/feature_extraction.html">6.1. Feature Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/feature_engineer.html">6.2. Feature Engineer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/get_data.html">6.3. Get Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/manage_data.html">6.4. Manage Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/machine_learning.html">6.5. Machine Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/natural_language_processing.html">6.6. Natural Language Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/time_series.html">6.7. Time Series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/sharing_downloading.html">6.8. Sharing and Downloading</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/speed_up_code.html">6.9. Tools to Speed Up Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/visualization.html">6.10. Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/better_pandas.html">6.11. Better Pandas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/testing.html">6.12. Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/SQL.html">6.13. SQL Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/spark.html">6.14. PySpark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Chapter5/llm.html">6.15. Large Language Model (LLM)</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Chapter6.html">7. Cool Tools</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="best_python_practice_tools.html">7.1. Tools for Best Python Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="alternative_approach.html">7.2. Alternative Approach</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">7.3. Workflow Automation</a></li>
<li class="toctree-l2"><a class="reference internal" href="code_review.html">7.4. Code Review</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging_debugging.html">7.5. Logging and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="better_outputs.html">7.6. Better Outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="git_github.html">7.7. Git and GitHub</a></li>
<li class="toctree-l2"><a class="reference internal" href="env_management.html">7.8. Environment Management</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../Chapter7/Chapter7.html">8. Jupyter Notebook</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Chapter7/jupyter_notebook.html">8.1. Jupyter Notebook</a></li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/khuyentran1401/Efficient_Python_tricks_and_tools_for_data_scientists/blob/master/./Chapter6/workflow_automation.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/khuyentran1401/Efficient_Python_tricks_and_tools_for_data_scientists" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/khuyentran1401/Efficient_Python_tricks_and_tools_for_data_scientists/issues/new?title=Issue%20on%20page%20%2FChapter6/workflow_automation.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Chapter6/workflow_automation.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Workflow Automation</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#schedule-schedule-your-python-functions-to-run-at-a-specific-time">7.3.1. Schedule: Schedule your Python Functions to Run At a Specific Time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rocketry-modern-scheduling-library-for-python">7.3.2. Rocketry: Modern Scheduling Library for Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notify-send-send-a-desktop-notification-after-finishing-executing-a-file">7.3.3. notify-send: Send a Desktop Notification after Finishing Executing a File</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-sound-notifications-in-python-in-one-line-of-code">7.3.4. Create Sound Notifications in Python in One Line of Code</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#knockknock-receive-an-email-when-your-code-finishes-executing">7.3.5. knockknock: Receive an Email When Your Code Finishes Executing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#makefile-organize-your-command-line">7.3.6. Makefile: Organize Your Command Line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notedown-create-ipython-notebooks-from-markdown-and-vice-versa">7.3.7. notedown: Create IPython Notebooks from Markdown and Vice Versa</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#open-a-website-using-python">7.3.8. Open a Website Using Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removestar-automate-replacing-start-imports-with-explicit-imports">7.3.9. removestar: Automate Replacing Start Imports with Explicit Imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#monkeytype-automatically-generate-static-type-annotations-based-on-runtime-types">7.3.10. MonkeyType: Automatically Generate Static Type Annotations Based on Runtime Types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#whereami-use-machine-learning-to-predict-where-you-are">7.3.11. whereami: Use Machine Learning to Predict Where You Are</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#watchfiles-rerun-code-when-a-file-changes">7.3.12. watchfiles: Rerun Code When a File Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pytube-a-lightweight-python-library-for-downloading-youtube-videos">7.3.13. PyTube: A Lightweight Python Library for Downloading YouTube Videos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#magika-detect-file-content-types-with-deep-learning">7.3.14. Magika: Detect File Content Types with Deep Learning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#from-selenium-to-helium-writing-cleaner-browser-automation-code">7.3.15. From Selenium to Helium: Writing Cleaner Browser Automation Code</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section id="workflow-automation">
<h1><span class="section-number">7.3. </span>Workflow Automation<a class="headerlink" href="#workflow-automation" title="Permalink to this heading">#</a></h1>
<p>This section covers some tools to automate the workflow of your Python project such as scheduling a time to run your code, sending notifications when your program finishes, etc.</p>
<section id="schedule-schedule-your-python-functions-to-run-at-a-specific-time">
<h2><span class="section-number">7.3.1. </span>Schedule: Schedule your Python Functions to Run At a Specific Time<a class="headerlink" href="#schedule-schedule-your-python-functions-to-run-at-a-specific-time" title="Permalink to this heading">#</a></h2>
<p>If you want to schedule Python functions to run periodically at a certain day or time of the week, use schedule.</p>
<p>In the code snippet below, I use schedule to get incoming data at 10:30 every day and train the model at 8:00 every Wednesday.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">schedule</span> 
<span class="kn">import</span> <span class="nn">time</span> 

<span class="k">def</span> <span class="nf">get_incoming_data</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Get incoming data&quot;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">train_model</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Retraining model&quot;</span><span class="p">)</span>

<span class="n">schedule</span><span class="o">.</span><span class="n">every</span><span class="p">()</span><span class="o">.</span><span class="n">day</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="s2">&quot;10:30&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="n">get_incoming_data</span><span class="p">)</span>
<span class="n">schedule</span><span class="o">.</span><span class="n">every</span><span class="p">()</span><span class="o">.</span><span class="n">wednesday</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="s2">&quot;08:00&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">do</span><span class="p">(</span><span class="n">train_model</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">schedule</span><span class="o">.</span><span class="n">run_pending</span><span class="p">()</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/dbader/schedule">Link to schedule</a></p>
</section>
<section id="rocketry-modern-scheduling-library-for-python">
<h2><span class="section-number">7.3.2. </span>Rocketry: Modern Scheduling Library for Python<a class="headerlink" href="#rocketry-modern-scheduling-library-for-python" title="Permalink to this heading">#</a></h2>
<p>If you want to schedule Python functions using expressive and customized scheduling statements, use Rocketry.</p>
<p>Unlike other tools, Rocketry doesnâ€™t make any assumptions about your project structure, making it perfect for fast and efficient automation projects.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rocketry.conds</span> <span class="kn">import</span> <span class="n">daily</span><span class="p">,</span> <span class="n">time_of_week</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">cond</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">file_exists</span><span class="p">(</span><span class="n">file</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="n">file</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">daily</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="s2">&quot;08:00&quot;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">file_exists</span><span class="p">(</span><span class="s2">&quot;myfile.csv&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">do_work</span><span class="p">():</span>
    <span class="o">...</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">task</span><span class="p">(</span><span class="n">hourly</span> <span class="o">&amp;</span> <span class="n">time_of_day</span><span class="o">.</span><span class="n">between</span><span class="p">(</span><span class="s2">&quot;22:00&quot;</span><span class="p">,</span> <span class="s2">&quot;06:00&quot;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">do_hourly_at_night</span><span class="p">():</span>
    <span class="o">...</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">task</span><span class="p">((</span><span class="n">weekly</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;Mon&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="n">weekly</span><span class="o">.</span><span class="n">on</span><span class="p">(</span><span class="s2">&quot;Sat&quot;</span><span class="p">)))</span>
<span class="k">def</span> <span class="nf">do_twice_a_week</span><span class="p">():</span>
    <span class="o">...</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/Miksus/rocketry">Link to Rocketry</a>.</p>
</section>
<section id="notify-send-send-a-desktop-notification-after-finishing-executing-a-file">
<h2><span class="section-number">7.3.3. </span>notify-send: Send a Desktop Notification after Finishing Executing a File<a class="headerlink" href="#notify-send-send-a-desktop-notification-after-finishing-executing-a-file" title="Permalink to this heading">#</a></h2>
<p>If you want to receive a desktop notification after finishing executing a file in Linux, use notify-send.</p>
<p>In the code below, after finishing executing <code class="docutils literal notranslate"><span class="pre">file_to_run.py</span></code>, you will receive a notification on the top of your screen to inform you that the process is terminated.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>file_to_run.py<span class="w"> </span><span class="p">;</span><span class="w"> </span>notify-send<span class="w"> </span><span class="s2">&quot;Process terminated&quot;</span>
</pre></div>
</div>
</section>
<section id="create-sound-notifications-in-python-in-one-line-of-code">
<h2><span class="section-number">7.3.4. </span>Create Sound Notifications in Python in One Line of Code<a class="headerlink" href="#create-sound-notifications-in-python-in-one-line-of-code" title="Permalink to this heading">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>chime
</pre></div>
</div>
</div>
</details>
</div>
<p>To have your computer make a sound  when your Python code reaches a certain state, use chime.</p>
<p>Try to run the following code and listen to the sound.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">chime</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chime</span><span class="o">.</span><span class="n">success</span><span class="p">()</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chime</span><span class="o">.</span><span class="n">warning</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chime</span><span class="o">.</span><span class="n">error</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">chime</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>One application of using chime is to make a sound when there is an error in your code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="o">/</span><span class="n">a</span>  
<span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;You can&#39;t divide a number by 0!&quot;</span><span class="p">)</span>
    <span class="n">chime</span><span class="o">.</span><span class="n">error</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>You can&#39;t divide a number by 0!
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://github.com/MaxHalford/chime">Link to chime</a>.</p>
</section>
<section id="knockknock-receive-an-email-when-your-code-finishes-executing">
<h2><span class="section-number">7.3.5. </span>knockknock: Receive an Email When Your Code Finishes Executing<a class="headerlink" href="#knockknock-receive-an-email-when-your-code-finishes-executing" title="Permalink to this heading">#</a></h2>
<p>It can take hours or days to train a model and you can be away from the computer when your model finishes training. Wouldnâ€™t it be nice to receive an email when your code finishes executing? There is an app for that knock-knock.</p>
<p>All it takes is one line of code specifying your email address.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">knockknock</span> <span class="kn">import</span> <span class="n">email_sender</span> 

<span class="nd">@email_sender</span><span class="p">(</span><span class="n">recipient_emails</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;&lt;your_email@address.com&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;your_second_email@adress.com&gt;&#39;</span><span class="p">],</span>
<span class="n">sender_email</span><span class="o">=</span><span class="s2">&quot;&lt;grandma&#39;s_email@gmail.com&gt;&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">train_your_nicest_model</span><span class="p">(</span><span class="n">your_nicest_parameters</span><span class="p">):</span>
    <span class="kn">import</span> <span class="nn">time</span> 
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10_000</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;loss&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">}</span>
</pre></div>
</div>
<p>You can even have it send to your slack channel so everybody in your team can see. See the docs of this library <a class="reference external" href="https://github.com/huggingface/knockknock">here</a>.</p>
</section>
<section id="makefile-organize-your-command-line">
<h2><span class="section-number">7.3.6. </span>Makefile: Organize Your Command Line<a class="headerlink" href="#makefile-organize-your-command-line" title="Permalink to this heading">#</a></h2>
<p>Do you use often use a sequence of commands to do a repetitive task? Wouldnâ€™t it be nice if you can call a sequence of commands using only one short command? That is when Makefile comes in handy.</p>
<p>In the code below, I use Makefile to automate the workflow to set up an environment.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span># Makefile

activate:
  @echo &quot;Activating virtual env&quot;
  poetry shell
  
install: 
  @echo &quot;Installing...&quot;
  poetry install

pull_data:
  @echo &quot;Pulling data...&quot;
  dvc pull
</pre></div>
</div>
<p>If you run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>activate
</pre></div>
</div>
<p>you should see something like below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Activating<span class="w"> </span>virtual<span class="w"> </span>env
poetry<span class="w"> </span>shell
</pre></div>
</div>
<p>You can run <code class="docutils literal notranslate"><span class="pre">activate</span></code>, <code class="docutils literal notranslate"><span class="pre">install</span></code>, and <code class="docutils literal notranslate"><span class="pre">pull_data</span></code> at the same time by putting all of those commands under <code class="docutils literal notranslate"><span class="pre">install_all</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span># Makefile

activate:
  @echo &quot;Activating virtual env&quot;
  poetry shell
  
install: 
  @echo &quot;Installing...&quot;
  poetry install

pull_data:
  @echo &quot;Pulling data...&quot;
  dvc pull

install_all: 
  install activate pull_data
</pre></div>
</div>
<p>Now you can run the entire setup workflow by running only one command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>install_all
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Installing...
poetry<span class="w"> </span>shell
Activating<span class="w"> </span>environment
poetry<span class="w"> </span>install
Pulling<span class="w"> </span>data...
dvc<span class="w"> </span>pull
</pre></div>
</div>
<p>I used Makefile to simplify the setup of my <a class="reference external" href="https://github.com/khuyentran1401/customer_segmentation">customer_segmentation project</a>.</p>
<p>You can learn more about Makefile <a class="reference external" href="https://opensource.com/article/18/8/what-how-makefile">here</a>.</p>
</section>
<section id="notedown-create-ipython-notebooks-from-markdown-and-vice-versa">
<h2><span class="section-number">7.3.7. </span>notedown: Create IPython Notebooks from Markdown and Vice Versa<a class="headerlink" href="#notedown-create-ipython-notebooks-from-markdown-and-vice-versa" title="Permalink to this heading">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>notedown
</pre></div>
</div>
</div>
</details>
</div>
<p>Sometimes you might want to convert your markdown file to a Jupyter Notebook for execution. If so, try notedown. notedown allows you to convert your markdown file to a Jupyter Notebook and vice versa.</p>
<p>To convert markdown file to a Jupyter Notebook with notedown, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>notedown<span class="w"> </span>input.md<span class="w"> </span>&gt;&gt;<span class="w"> </span>output.ipynb<span class="w"> </span>
</pre></div>
</div>
<p>To convert a Jupyter Notebook to a markdown file, type:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>notedown<span class="w"> </span>input.ipynb<span class="w"> </span>--to<span class="w"> </span>markdown<span class="w"> </span>&gt;&gt;<span class="w"> </span>output.md<span class="w"> </span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/aaren/notedown">Link to notedown</a>.</p>
</section>
<section id="open-a-website-using-python">
<h2><span class="section-number">7.3.8. </span>Open a Website Using Python<a class="headerlink" href="#open-a-website-using-python" title="Permalink to this heading">#</a></h2>
<p>If you want to open a website using Python, use webbrowser.</p>
<p>For example, running the code below will open my website in your browser.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">webbrowser</span>

<span class="n">webbrowser</span><span class="o">.</span><span class="n">open_new</span><span class="p">(</span><span class="s2">&quot;https://mathdatasimplified.com/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://docs.python.org/3/library/webbrowser.html">Link to webbrowser</a>.</p>
</section>
<section id="removestar-automate-replacing-start-imports-with-explicit-imports">
<h2><span class="section-number">7.3.9. </span>removestar: Automate Replacing Start Imports with Explicit Imports<a class="headerlink" href="#removestar-automate-replacing-start-imports-with-explicit-imports" title="Permalink to this heading">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>removestar
</pre></div>
</div>
</div>
</details>
</div>
<p>It is a bad practice to use <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">*</span></code> in Python because it is harder to track down the origin of variables and debug your code. However, writing numerous imports explicitly from a single module can be tedious.</p>
<p>removestar allows you to automate replacing star imports with explicit imports.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> star_script.py  

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">def</span> <span class="nf">square_root</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">deg_to_rad</span><span class="p">(</span><span class="n">degrees</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">radians</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Shows diff but does not edit star_script.py</span>
$<span class="w"> </span>removestar<span class="w"> </span>star_script.py<span class="w"> </span>
</pre></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- original/star_script.py
+++ fixed/star_script.py
@@ -1,5 +1,5 @@
 
-from math import *
+from math import radians, sqrt
 
 def square_root(num):
     return sqrt(num)
</pre></div>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Edits star_script.py in-place</span>
$<span class="w"> </span>removestar<span class="w"> </span>star_script.py<span class="w"> </span>-i
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %load star_script.py</span>

<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">radians</span><span class="p">,</span> <span class="n">sqrt</span>

<span class="k">def</span> <span class="nf">square_root</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">deg_to_rad</span><span class="p">(</span><span class="n">degrees</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">radians</span><span class="p">(</span><span class="n">degrees</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://github.com/asmeurer/removestar">Link to removestar</a>.</p>
</section>
<section id="monkeytype-automatically-generate-static-type-annotations-based-on-runtime-types">
<h2><span class="section-number">7.3.10. </span>MonkeyType: Automatically Generate Static Type Annotations Based on Runtime Types<a class="headerlink" href="#monkeytype-automatically-generate-static-type-annotations-based-on-runtime-types" title="Permalink to this heading">#</a></h2>
<p>Type annotations can improve code readability and catch type-related errors early in development.</p>
<p>MonkeyType simplifies adding type annotations by automatically generating draft annotations based on the types collected at runtime, saving time and effort compared to manual annotation.</p>
<p>Letâ€™s say we have two files inside the folder monkey_example. The <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> file contains the <code class="docutils literal notranslate"><span class="pre">get_mean</span></code> function and the <code class="docutils literal notranslate"><span class="pre">main.py</span></code> file calls the <code class="docutils literal notranslate"><span class="pre">get_mean</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">mkdir</span> monkey_example
<span class="o">%</span><span class="k">cd</span> monkey_example
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> utils.py 
<span class="k">def</span> <span class="nf">get_mean</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span> <span class="n">num2</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">num1</span><span class="o">+</span><span class="n">num2</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%writefile</span> main.py 
<span class="kn">from</span> <span class="nn">utils</span> <span class="kn">import</span> <span class="n">get_mean</span>  

<span class="n">get_mean</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can infer the type annotation of <code class="docutils literal notranslate"><span class="pre">get_mean</span></code> in <code class="docutils literal notranslate"><span class="pre">utils.py</span></code> by running <code class="docutils literal notranslate"><span class="pre">main.py</span></code> with MonkeyType.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>monkeytype<span class="w"> </span>run<span class="w"> </span>main.py<span class="w"> </span>
</pre></div>
</div>
<div class="cell tag_remove-input docutils container">
</div>
<p>Then generate a stub file for a module:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>monkeytype<span class="w"> </span>stub<span class="w"> </span>utils
</pre></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>def get_mean(num1: int, num2: int) -&gt; float: ...
</pre></div>
</div>
</div>
</div>
<p>or apply the type annotations directly to the code.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>monkeytype<span class="w"> </span>apply<span class="w"> </span>utils<span class="w"> </span>
</pre></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>def get_mean(num1: int, num2: int) -&gt; float:
    return (num1+num2)/2  
</pre></div>
</div>
</div>
</div>
<p>While MonkeyType makes it very easy to add annotations, those annotations may not always match the full intended capability of the functions. For example, <code class="docutils literal notranslate"><span class="pre">get_mean</span></code> is capable of handling many more types than just integers. MonkeyTypeâ€™s annotations are an informative first draft that are meant to be checked and corrected by a developer.</p>
<p><a class="reference external" href="https://github.com/Instagram/MonkeyType">Link to MonkeyType</a>.</p>
</section>
<section id="whereami-use-machine-learning-to-predict-where-you-are">
<h2><span class="section-number">7.3.11. </span>whereami: Use Machine Learning to Predict Where You Are<a class="headerlink" href="#whereami-use-machine-learning-to-predict-where-you-are" title="Permalink to this heading">#</a></h2>
<p>If you want to predict where you are with machine learning and WiFi signals, use whereami. One application of whereami is to turn on Hue light bulbs in specific locations through your laptop.</p>
<p>To predict your current location, start by collecting some samples by running <code class="docutils literal notranslate"><span class="pre">whereami</span> <span class="pre">learn</span> <span class="pre">-l</span> <span class="pre">location</span></code> in different locations. Once collecting at least 10 data points, run <code class="docutils literal notranslate"><span class="pre">whereami</span> <span class="pre">predict</span></code> to predict your current location.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Take a sample in the kitchen</span>
$<span class="w"> </span>whereami<span class="w"> </span>learn<span class="w"> </span>-l<span class="w"> </span>kitchen

<span class="c1"># Take a sample in the bedroom</span>
$<span class="w"> </span>whereami<span class="w"> </span>learn<span class="w"> </span>-l<span class="w"> </span>bedroom

<span class="c1"># Get learned locations</span>
$<span class="w"> </span>whereami<span class="w"> </span>locations
bedroom:<span class="w"> </span><span class="m">2</span>
office:<span class="w"> </span><span class="m">2</span>
kitchen:<span class="w"> </span><span class="m">3</span>
bathroom:<span class="w"> </span><span class="m">1</span>
livingroom:<span class="w"> </span><span class="m">2</span>

<span class="c1"># Run prediction in the kitchen</span>
$<span class="w"> </span>whereami<span class="w"> </span>predict
kitchen
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/kootenpv/whereami">Link to whereami</a>.</p>
</section>
<section id="watchfiles-rerun-code-when-a-file-changes">
<h2><span class="section-number">7.3.12. </span>watchfiles: Rerun Code When a File Changes<a class="headerlink" href="#watchfiles-rerun-code-when-a-file-changes" title="Permalink to this heading">#</a></h2>
<p>If you want to automatically rerun a process when a file changes, use watchfiles.</p>
<p>In the code below, the function <code class="docutils literal notranslate"><span class="pre">train</span></code> will run when the file <code class="docutils literal notranslate"><span class="pre">process_data.py</span></code> changes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">watchfiles</span> <span class="kn">import</span> <span class="n">run_process</span>

<span class="k">def</span> <span class="nf">train</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Detect changes in process_data.py. &quot;</span> 
          <span class="s2">&quot;Train the model again&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">run_process</span><span class="p">(</span><span class="s2">&quot;process_data.py&quot;</span><span class="p">,</span> <span class="n">target</span><span class="o">=</span><span class="n">train</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/samuelcolvin/watchfiles">Link to watchfiles</a>.</p>
</section>
<section id="pytube-a-lightweight-python-library-for-downloading-youtube-videos">
<h2><span class="section-number">7.3.13. </span>PyTube: A Lightweight Python Library for Downloading YouTube Videos<a class="headerlink" href="#pytube-a-lightweight-python-library-for-downloading-youtube-videos" title="Permalink to this heading">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pytube
</pre></div>
</div>
</div>
</details>
</div>
<p>pytube is a lightweight Python library that enables you to download YouTube videos and playlists in specific formats and resolutions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the video</span>
<span class="kn">from</span> <span class="nn">pytube</span> <span class="kn">import</span> <span class="n">YouTube</span>

<span class="n">yt</span> <span class="o">=</span> <span class="n">YouTube</span><span class="p">(</span><span class="s2">&quot;https://youtu.be/UKCTvrJSoL0&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yt</span><span class="o">.</span><span class="n">title</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Git for Data Scientists: Learn Git through Examples&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yt</span><span class="o">.</span><span class="n">thumbnail_url</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;https://i.ytimg.com/vi/UKCTvrJSoL0/hq720.jpg&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># list all streams</span>
<span class="n">yt</span><span class="o">.</span><span class="n">streams</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;Stream: itag=&quot;17&quot; mime_type=&quot;video/3gpp&quot; res=&quot;144p&quot; fps=&quot;8fps&quot; vcodec=&quot;mp4v.20.3&quot; acodec=&quot;mp4a.40.2&quot; progressive=&quot;True&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;18&quot; mime_type=&quot;video/mp4&quot; res=&quot;360p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.42001E&quot; acodec=&quot;mp4a.40.2&quot; progressive=&quot;True&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;22&quot; mime_type=&quot;video/mp4&quot; res=&quot;720p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.64001F&quot; acodec=&quot;mp4a.40.2&quot; progressive=&quot;True&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;136&quot; mime_type=&quot;video/mp4&quot; res=&quot;720p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.64001f&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;247&quot; mime_type=&quot;video/webm&quot; res=&quot;720p&quot; fps=&quot;30fps&quot; vcodec=&quot;vp9&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;135&quot; mime_type=&quot;video/mp4&quot; res=&quot;480p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.4d401f&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;244&quot; mime_type=&quot;video/webm&quot; res=&quot;480p&quot; fps=&quot;30fps&quot; vcodec=&quot;vp9&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;134&quot; mime_type=&quot;video/mp4&quot; res=&quot;360p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.4d401e&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;243&quot; mime_type=&quot;video/webm&quot; res=&quot;360p&quot; fps=&quot;30fps&quot; vcodec=&quot;vp9&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;133&quot; mime_type=&quot;video/mp4&quot; res=&quot;240p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.4d4015&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;242&quot; mime_type=&quot;video/webm&quot; res=&quot;240p&quot; fps=&quot;30fps&quot; vcodec=&quot;vp9&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;160&quot; mime_type=&quot;video/mp4&quot; res=&quot;144p&quot; fps=&quot;30fps&quot; vcodec=&quot;avc1.4d400c&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;278&quot; mime_type=&quot;video/webm&quot; res=&quot;144p&quot; fps=&quot;30fps&quot; vcodec=&quot;vp9&quot; progressive=&quot;False&quot; type=&quot;video&quot;&gt;, &lt;Stream: itag=&quot;139&quot; mime_type=&quot;audio/mp4&quot; abr=&quot;48kbps&quot; acodec=&quot;mp4a.40.5&quot; progressive=&quot;False&quot; type=&quot;audio&quot;&gt;, &lt;Stream: itag=&quot;140&quot; mime_type=&quot;audio/mp4&quot; abr=&quot;128kbps&quot; acodec=&quot;mp4a.40.2&quot; progressive=&quot;False&quot; type=&quot;audio&quot;&gt;, &lt;Stream: itag=&quot;249&quot; mime_type=&quot;audio/webm&quot; abr=&quot;50kbps&quot; acodec=&quot;opus&quot; progressive=&quot;False&quot; type=&quot;audio&quot;&gt;, &lt;Stream: itag=&quot;250&quot; mime_type=&quot;audio/webm&quot; abr=&quot;70kbps&quot; acodec=&quot;opus&quot; progressive=&quot;False&quot; type=&quot;audio&quot;&gt;, &lt;Stream: itag=&quot;251&quot; mime_type=&quot;audio/webm&quot; abr=&quot;160kbps&quot; acodec=&quot;opus&quot; progressive=&quot;False&quot; type=&quot;audio&quot;&gt;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Filter by MIME type and resolution</span>
<span class="n">yt</span><span class="o">.</span><span class="n">streams</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">mime_type</span><span class="o">=</span><span class="s2">&quot;video/mp4&quot;</span><span class="p">,</span> <span class="n">res</span><span class="o">=</span><span class="s1">&#39;720p&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a playlist</span>
<span class="kn">from</span> <span class="nn">pytube</span> <span class="kn">import</span> <span class="n">Playlist</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">Playlist</span><span class="p">(</span><span class="s1">&#39;https://youtube.com/playlist?list=PLnK6m_JBRVNoPnqnVrWaYtZ2G4nFTnGze&amp;si=BK4o05iHmgqsyNK2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Download all videos in the playlist</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Downloading: </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s1"> &#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">video</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">videos</span><span class="p">:</span>
    <span class="n">video</span><span class="o">.</span><span class="n">streams</span><span class="o">.</span><span class="n">first</span><span class="p">(</span><span class="n">mime_type</span><span class="o">=</span><span class="s2">&quot;video/mp4&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Downloading: Fundamental
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://github.com/pytube/pytube">Link to pytube</a>.</p>
</section>
<section id="magika-detect-file-content-types-with-deep-learning">
<h2><span class="section-number">7.3.14. </span>Magika: Detect File Content Types with Deep Learning<a class="headerlink" href="#magika-detect-file-content-types-with-deep-learning" title="Permalink to this heading">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>magika
</pre></div>
</div>
</div>
</details>
</div>
<p>Detecting file types helps identify malicious files disguised with false extensions, such as a .jpg that is actually malware.</p>
<p>Magika, Googleâ€™s AI-powered file type detection tool, uses deep learning for precise detection. In the following code, files have misleading extensions, but Magika still accurately detects their correct types.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">import</span> <span class="nn">shutil</span>

<span class="c1"># Define the directory where files will be created</span>
<span class="n">directory</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;examples&quot;</span><span class="p">)</span>

<span class="c1"># Ensure the directory exists</span>
<span class="n">directory</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Empty the directory if it is not empty</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">directory</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">is_dir</span><span class="p">():</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">item</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>

<span class="c1"># Define the filenames and their respective content</span>
<span class="n">files</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s2">&quot;plain_text.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;This is a plain text file.&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;csv.json&quot;</span><span class="p">,</span> <span class="s2">&quot;id,name,age</span><span class="se">\n</span><span class="s2">1,John Doe,30&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;json.xml&quot;</span><span class="p">,</span> <span class="s1">&#39;{&quot;name&quot;: &quot;John&quot;, &quot;age&quot;: 30}&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;markdown.js&quot;</span><span class="p">,</span> <span class="s2">&quot;# Heading 1</span><span class="se">\n</span><span class="s2">Some text.&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;python.ini&quot;</span><span class="p">,</span> <span class="s1">&#39;print(&quot;Hello, World!&quot;)&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;js.yml&quot;</span><span class="p">,</span> <span class="s1">&#39;console.log(&quot;Hello, World!&quot;);&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s2">&quot;yml.js&quot;</span><span class="p">,</span> <span class="s2">&quot;name: John</span><span class="se">\n</span><span class="s2">age: 30&quot;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Create each file with the specified content</span>
<span class="k">for</span> <span class="n">filename</span><span class="p">,</span> <span class="n">content</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
    <span class="p">(</span><span class="n">directory</span> <span class="o">/</span> <span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Created </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2"> files in the &#39;</span><span class="si">{</span><span class="n">directory</span><span class="si">}</span><span class="s2">&#39; directory.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Created 7 files in the &#39;examples&#39; directory.
</pre></div>
</div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>magika<span class="w"> </span>-r<span class="w"> </span>examples
</pre></div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold -Color-Bold-Blue">examples/csv.json: CSV document (code)</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">examples/js.yml: JavaScript source (code)</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">examples/json.xml: JSON document (code)</span>
<span class=" -Color -Color-Bold -Color-Bold-White">examples/markdown.js: Markdown document (text)</span>
<span class=" -Color -Color-Bold -Color-Bold-White">examples/plain_text.csv: Generic text document (text)</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">examples/python.ini: Python source (code)</span>
<span class=" -Color -Color-Bold -Color-Bold-Blue">examples/yml.js: YAML source (code)</span>
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://bit.ly/45tdw5O">Link to Magika</a>.</p>
</section>
<section id="from-selenium-to-helium-writing-cleaner-browser-automation-code">
<h2><span class="section-number">7.3.15. </span>From Selenium to Helium: Writing Cleaner Browser Automation Code<a class="headerlink" href="#from-selenium-to-helium-writing-cleaner-browser-automation-code" title="Permalink to this heading">#</a></h2>
<p>Writing browser automation scripts with traditional Selenium requires verbose code with explicit element locators (like XPaths, CSS selectors) and explicit waits, which is time-consuming to write and hard-to-maintain.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.common.by</span> <span class="kn">import</span> <span class="n">By</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support.ui</span> <span class="kn">import</span> <span class="n">WebDriverWait</span>
<span class="kn">from</span> <span class="nn">selenium.webdriver.support</span> <span class="kn">import</span> <span class="n">expected_conditions</span> <span class="k">as</span> <span class="n">EC</span>

<span class="c1"># Start Chrome</span>

<span class="k">with</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="p">()</span> <span class="k">as</span> <span class="n">driver</span><span class="p">:</span>
    <span class="c1"># Navigate to GitHub login page</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/login&#39;</span><span class="p">)</span>

    <span class="c1"># Login</span>
    <span class="n">username_field</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s1">&#39;login_field&#39;</span><span class="p">)</span>
    <span class="n">password_field</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">ID</span><span class="p">,</span> <span class="s1">&#39;password&#39;</span><span class="p">)</span>
    
    <span class="n">username_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;1mh&#39;</span><span class="p">)</span>
    <span class="n">password_field</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s1">&#39;1Secretpw&#39;</span><span class="p">)</span>
    
    <span class="n">login_button</span> <span class="o">=</span> <span class="n">driver</span><span class="o">.</span><span class="n">find_element</span><span class="p">(</span><span class="n">By</span><span class="o">.</span><span class="n">NAME</span><span class="p">,</span> <span class="s1">&#39;commit&#39;</span><span class="p">)</span>
    <span class="n">login_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="c1"># Navigate to repository</span>
    <span class="n">driver</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://github.com/mherrmann/helium&#39;</span><span class="p">)</span>

    <span class="c1"># Wait for and click Star button</span>
    <span class="n">wait</span> <span class="o">=</span> <span class="n">WebDriverWait</span><span class="p">(</span><span class="n">driver</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">star_button</span> <span class="o">=</span> <span class="n">wait</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="o">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//button[contains(text(), &#39;Star&#39;)]&quot;</span><span class="p">)))</span>
    <span class="n">star_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="c1"># Wait for and click Unstar button</span>
    <span class="n">unstar_button</span> <span class="o">=</span> <span class="n">wait</span><span class="o">.</span><span class="n">until</span><span class="p">(</span><span class="n">EC</span><span class="o">.</span><span class="n">element_to_be_clickable</span><span class="p">((</span><span class="n">By</span><span class="o">.</span><span class="n">XPATH</span><span class="p">,</span> <span class="s2">&quot;//button[contains(text(), &#39;Unstar&#39;)]&quot;</span><span class="p">)))</span>
    <span class="n">unstar_button</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div>
</div>
<p>Helium provides high-level APIs that work with user-visible elements and handles waits automatically. With Helium, you can write more intuitive and maintainable browser automation code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">helium</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># Start Chrome and navigate to GitHub login page</span>
<span class="n">start_chrome</span><span class="p">(</span><span class="s1">&#39;github.com/login&#39;</span><span class="p">)</span>

<span class="c1"># Enter username and password</span>
<span class="n">write</span><span class="p">(</span><span class="s1">&#39;1mh&#39;</span><span class="p">,</span> <span class="n">into</span><span class="o">=</span><span class="s1">&#39;Username&#39;</span><span class="p">)</span>
<span class="n">write</span><span class="p">(</span><span class="s1">&#39;1Secretpw&#39;</span><span class="p">,</span> <span class="n">into</span><span class="o">=</span><span class="s1">&#39;Password&#39;</span><span class="p">)</span>

<span class="c1"># Click the Sign in button</span>
<span class="n">click</span><span class="p">(</span><span class="s1">&#39;Sign in&#39;</span><span class="p">)</span>

<span class="c1"># Navigate to the Helium repository</span>
<span class="n">go_to</span><span class="p">(</span><span class="s1">&#39;github.com/mherrmann/helium&#39;</span><span class="p">)</span>

<span class="c1"># Star and then unstar the repository</span>
<span class="n">click</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Star&#39;</span><span class="p">))</span>
<span class="n">click</span><span class="p">(</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Unstar&#39;</span><span class="p">))</span>

<span class="c1"># Close the browser</span>
<span class="n">kill_browser</span><span class="p">()</span>
</pre></div>
</div>
<p><a class="reference external" href="https://github.com/mherrmann/helium">Link to Helium</a>.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Chapter6"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="alternative_approach.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">7.2. </span>Alternative Approach</p>
      </div>
    </a>
    <a class="right-next"
       href="code_review.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7.4. </span>Code Review</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#schedule-schedule-your-python-functions-to-run-at-a-specific-time">7.3.1. Schedule: Schedule your Python Functions to Run At a Specific Time</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#rocketry-modern-scheduling-library-for-python">7.3.2. Rocketry: Modern Scheduling Library for Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notify-send-send-a-desktop-notification-after-finishing-executing-a-file">7.3.3. notify-send: Send a Desktop Notification after Finishing Executing a File</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-sound-notifications-in-python-in-one-line-of-code">7.3.4. Create Sound Notifications in Python in One Line of Code</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#knockknock-receive-an-email-when-your-code-finishes-executing">7.3.5. knockknock: Receive an Email When Your Code Finishes Executing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#makefile-organize-your-command-line">7.3.6. Makefile: Organize Your Command Line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#notedown-create-ipython-notebooks-from-markdown-and-vice-versa">7.3.7. notedown: Create IPython Notebooks from Markdown and Vice Versa</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#open-a-website-using-python">7.3.8. Open a Website Using Python</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#removestar-automate-replacing-start-imports-with-explicit-imports">7.3.9. removestar: Automate Replacing Start Imports with Explicit Imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#monkeytype-automatically-generate-static-type-annotations-based-on-runtime-types">7.3.10. MonkeyType: Automatically Generate Static Type Annotations Based on Runtime Types</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#whereami-use-machine-learning-to-predict-where-you-are">7.3.11. whereami: Use Machine Learning to Predict Where You Are</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#watchfiles-rerun-code-when-a-file-changes">7.3.12. watchfiles: Rerun Code When a File Changes</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pytube-a-lightweight-python-library-for-downloading-youtube-videos">7.3.13. PyTube: A Lightweight Python Library for Downloading YouTube Videos</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#magika-detect-file-content-types-with-deep-learning">7.3.14. Magika: Detect File Content Types with Deep Learning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#from-selenium-to-helium-writing-cleaner-browser-automation-code">7.3.15. From Selenium to Helium: Writing Cleaner Browser Automation Code</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Khuyen Tran
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      Â© Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=c5ced968eda925caa686"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=c5ced968eda925caa686"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>